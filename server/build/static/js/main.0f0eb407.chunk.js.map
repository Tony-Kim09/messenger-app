{"version":3,"sources":["pages/Messenger/Messenger.js","themes/theme.js","pages/Register/styles.js","components/RegisterForm/styles.js","components/RegisterForm/LoginRedirect.js","components/RegisterForm/RegisterForm.js","services/register.js","assets/bg-img.png","components/LeftImageIntro/LeftImage.js","pages/Register/Register.js","components/LoginForm/styles.js","components/LoginForm/RegisterRedirect.js","components/LoginForm/LoginForm.js","services/login.js","pages/Login/styles.js","pages/Login/Login.js","services/users.js","services/messenger.js","helper/functions.js","components/UserPanel/User/User.js","components/UserPanel/UserList/UserList.js","components/UserPanel/FilterContacts/FilterInput.js","components/UserPanel/styles.js","components/UserPanel/CurrentUserBox/styles.js","components/UserPanel/CurrentUserBox/AccountMenu.js","components/UserPanel/CurrentUserBox/CurrentUserBox.js","components/UserPanel/UserPanel.js","components/ChatContainer/ChatBox/styles.js","components/ChatContainer/ChatBox/ChatBox.js","components/ChatContainer/ChatHeader/styles.js","components/ChatContainer/ChatHeader/ChatHeader.js","components/ChatContainer/ChatInput/styles.js","components/ChatContainer/ChatInput/ChatInput.js","components/ChatContainer/styles.js","components/ChatContainer/ChatContainer.js","pages/Messenger/styles.js","App.js","index.js"],"names":["socket","theme","createMuiTheme","typography","fontFamily","palette","primary","main","secondary","contrastText","useStyles","makeStyles","container","height","width","left","breakpoints","down","display","flexDirection","alignItems","justifyContent","margin","spacing","up","headerText","fontSize","textAlign","marginBottom","formContainer","inputField","mainButton","padding","redirectContainer","redirectButton","redirectText","color","marginTop","RedirectToLogin","classes","history","useHistory","className","Grid","justify","item","Typography","variant","Button","id","type","size","onClick","push","RegisterForm","createUser","useState","username","setUserName","nickName","setNickName","password","setPassword","email","setEmail","showSnackbar","setShowSnackBar","errorMessage","setErrorMessage","handleCloseSnack","event","reason","LoginRedirect","onSubmit","preventDefault","errors","length","test","Object","values","every","n","validate","name","xs","TextField","value","label","required","fullWidth","autoFocus","autoComplete","onChange","target","error","Boolean","helperText","disableElevation","Snackbar","anchorOrigin","vertical","horizontal","open","autoHideDuration","onClose","Alert","severity","create","credentials","a","axios","post","response","data","registerService","background","bgImage","backgroundRepeat","backgroundSize","backgroundPosition","icon","LeftImage","Container","align","Box","letterSpacing","lineHeight","Register","message","setMessage","sm","right","userObject","then","returnedUser","window","localStorage","setItem","JSON","stringify","catch","marginRight","RedirectToRegister","LoginForm","loginUser","RegisterRedirect","login","loginService","Login","setTimeout","getUsers","usersService","createConversation","usernames","messengerService","setToken","newToken","stringToHslColor","str","saturation","lightness","hash","i","charCodeAt","User","avatarBGColor","userCardContainer","cursor","boxShadow","paddingLeft","avatarColor","Card","elevation","CardHeader","avatar","Avatar","substring","toUpperCase","title","UserList","users","filterUser","startConversation","List","reduce","acc","cur","toLowerCase","includes","ListItem","disableGutters","style","Filter","handler","searchContainer","searchIconContainer","Paper","IconButton","disabled","InputBase","placeholder","inputProps","userPanelContainer","maxHeight","overflow","chatHeaderText","currentUserContainer","avatarNameContainer","currentUserAvatarColor","currentUserName","AccountMenu","setCurrentUser","setOpen","anchorRef","useRef","handleClose","handleListKeyDown","key","handleLogOut","removeItem","prevOpen","useEffect","current","focus","accountSettings","ref","Popper","anchorEl","placement","transition","disablePortal","TransitionProps","Grow","transformOrigin","ClickAwayListener","onClickAway","MenuList","autoFocusItem","onKeyDown","MenuItem","CurrentUserBox","currentUser","UserPanel","filteredName","setFilter","FilterInput","messageBox","flexGrow","sendingMessageContainer","receivingMessageContainer","sentMessageBackground","borderBottomLeftRadius","borderTopLeftRadius","borderBottomRightRadius","maxWidth","receivedMessageBackground","borderTopRightRadius","ChatBox","messages","map","sender","text","chatHeaderContainer","chatHeaderTextAvatarContainer","marginLeft","fontWeight","closeChat","closeIcon","ChatHeader","targetName","toggleOpen","chatInput","borderRadius","chatInputText","ChatInput","sendMessage","setText","useTheme","mobile","useMediaQuery","onKeyPress","trim","chatContainer","ChatContainer","root","openPanel","closePanel","noChatContainer","noChatIcon","noChatText","Messenger","currentConversationID","setConversationID","existingChat","setExistingChat","setUsers","setMessages","currentlySpeakingWith","setCurrentlySpeakingWith","io","loggedUserJSON","getItem","userLoggedIn","parse","userList","alert","participants","conversation","conversationInfo","user","emit","on","md","trimmedText","msg","App","setUser","token","path","component","to","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.0f0eb407.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport io from \"socket.io-client\";\r\nimport usersService from \"../../services/users\";\r\nimport messengerService from \"../../services/messenger\";\r\nimport UserPanel from \"../../components/UserPanel/UserPanel\";\r\nimport { Box } from \"@mui/system\";\r\nimport ChatContainer from \"../../components/ChatContainer/ChatContainer\";\r\nimport { Grid, Typography } from \"@material-ui/core\";\r\nimport { IoChatbubbleEllipsesSharp } from \"react-icons/io5\";\r\nimport { useStyles } from './styles';\r\n\r\nlet socket;\r\n\r\nconst Messenger = () => {\r\n  const history = useHistory();\r\n  const classes = useStyles();\r\n\r\n  const [currentConversationID, setConversationID] = useState(\"\");\r\n  const [existingChat, setExistingChat] = useState(false);\r\n  const [currentUser, setCurrentUser] = useState(null);\r\n  const [users, setUsers] = useState([]);\r\n  const [text, setText] = useState(\"\");\r\n  const [messages, setMessages] = useState([]);\r\n\r\n  const [currentlySpeakingWith, setCurrentlySpeakingWith] = useState(\"\");\r\n\r\n  //For Mobile, Toggle Open will be used to switch views from UserPanel and Chat Panel\r\n\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const toggleOpen = () => {\r\n    setOpen(!open);\r\n  }\r\n\r\n  //Initialize SocketIO and users\r\n  useEffect(() => {\r\n    socket = io();\r\n    const loggedUserJSON = window.localStorage.getItem(\"userAuthenticated\");\r\n    if (loggedUserJSON) {\r\n      // Set Current User \r\n      const userLoggedIn = JSON.parse(loggedUserJSON);\r\n      setCurrentUser(userLoggedIn);\r\n\r\n      //Set all current Users\r\n      usersService.getUsers({ username: userLoggedIn.username })\r\n        .then(userList => setUsers(userList));\r\n    } else {\r\n      alert(\"You must be logged in\");\r\n      history.push(\"/login\");\r\n    }\r\n  }, [history]);\r\n\r\n  //Function for Starting Chat\r\n  const startConversation = async (target) => {\r\n    setMessages([]);\r\n    setCurrentlySpeakingWith(target.username);\r\n    const participants = { usernames: [currentUser.username, target.username] };\r\n\r\n    const conversation = await messengerService.createConversation(participants)\r\n    setExistingChat(true);\r\n    setConversationID(conversation.id);\r\n\r\n    //Show old messages if available\r\n    if (conversation.messages) {\r\n      setMessages(conversation.messages);\r\n    }\r\n    const conversationInfo = { user: currentUser.username, target: target.username, id: conversation.id };\r\n    socket.emit(\"join\", conversationInfo);\r\n\r\n    //Toggle Panel for Mobile Users\r\n    toggleOpen();\r\n  }\r\n\r\n  //Get real-time message\r\n  useEffect(() => {\r\n    socket.on(\"message\", message => {\r\n      setMessages(messages => [...messages, message]);\r\n    });\r\n  }, []);\r\n\r\n  //Send user message to Server\r\n  const sendMessage = (event) => {\r\n    event.preventDefault();\r\n    const trimmedText = text.trim();\r\n    const msg = { sender: currentUser.username, text: trimmedText };\r\n\r\n    if (msg) {\r\n      socket.emit(\"sendMessage\", ({ currentConversationID, msg }), () => setText(\"\"));\r\n    }\r\n    setText(\"\");\r\n  }\r\n\r\n  return (\r\n    <Grid container className={classes.root}>\r\n      <Grid item xs={12} sm={4} md={3} className={open ? classes.closePanel : classes.openPanel}>\r\n        <UserPanel\r\n          currentUser={currentUser} setCurrentUser={setCurrentUser}\r\n          users={users} currentUser={currentUser} startConversation={startConversation} />\r\n      </Grid>\r\n      <Grid item sm={8} md={9} className={open ? classes.openPanel : classes.closePanel}>\r\n        {existingChat ?\r\n          <ChatContainer currentUser={currentUser} targetName={currentlySpeakingWith} messages={messages} text={text} setText={setText} sendMessage={sendMessage} toggleOpen={toggleOpen} />\r\n          :\r\n          <Box className={classes.noChatContainer} >\r\n            <IoChatbubbleEllipsesSharp className={classes.noChatIcon} />\r\n            <Typography className={classes.noChatText} variant=\"h2\">No Active Chats yet!</Typography>\r\n          </Box>}\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nexport default Messenger;","import { createMuiTheme } from \"@material-ui/core\";\r\n\r\nexport const theme = createMuiTheme({\r\n  typography: {\r\n    fontFamily: \"Open Sans\",\r\n  },\r\n  palette: {\r\n    primary: { main: \"#3A8DFF\" },\r\n    secondary: { main: \"#fff\", contrastText: \"#3A8DFF\" },\r\n  }\r\n});","import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nexport const useStyles = makeStyles((theme) => ({\r\n  container: {\r\n    height: \"100vh\",\r\n    width: \"100vw\"\r\n  },\r\n  left: {\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      display: \"none\"\r\n    }\r\n  },\r\n}));","import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nexport const useStyles = makeStyles((theme) => ({\r\n  container: {\r\n    display: \"flex\",\r\n    height: \"100%\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    margin: theme.spacing(0, 5),\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      margin: theme.spacing(0, 4)\r\n    },\r\n    [theme.breakpoints.up(\"lg\")]: {\r\n      margin: theme.spacing(0, 15)\r\n    },\r\n  },\r\n  headerText: {\r\n    fontSize: \"1.75em\",\r\n    textAlign: \"start\",\r\n    width: \"100%\",\r\n    marginBottom: theme.spacing(3)\r\n  },\r\n  formContainer: {\r\n    margin: theme.spacing(0, 5),\r\n  },\r\n  inputField: {\r\n    marginBottom: theme.spacing(2, 0),\r\n  },\r\n  mainButton: {\r\n    padding: theme.spacing(1.5, 5.5),\r\n    margin: theme.spacing(10, 0, 5),\r\n  },\r\n  redirectContainer: {\r\n    marginBottom: theme.spacing(10),\r\n    display: \"flex\",\r\n    flexDirection: \"horizontal\",\r\n    alignItems: \"end\",\r\n    width: \"100%\",\r\n  },\r\n  redirectButton: {\r\n    padding: theme.spacing(1.5, 5.5),\r\n  },\r\n  redirectText: {\r\n    color: \"lightgrey\",\r\n    marginTop: theme.spacing(1),\r\n  },\r\n}));","import React from \"react\";\r\nimport { useHistory } from \"react-router-dom\"\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { useStyles } from \"./styles\"\r\n\r\nconst RedirectToLogin = () => {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n\r\n  const redirectButton = () => {\r\n    history.push(\"/login\");\r\n  }\r\n\r\n  return (\r\n    <div className={classes.redirectContainer}>\r\n      <Grid container justify=\"flex-end\" spacing={2}>\r\n        <Grid item>\r\n          <Typography className={classes.redirectText} variant=\"subtitle1\">\r\n            Already have an account?\r\n          </Typography>\r\n        </Grid>\r\n        <Grid item>\r\n          <Button\r\n            id=\"change-to-login-button\"\r\n            type=\"button\"\r\n            variant=\"contained\"\r\n            color=\"secondary\"\r\n            size=\"large\"\r\n            className={classes.redirectButton}\r\n            onClick={redirectButton}\r\n          >\r\n            <b>Login</b>\r\n          </Button>\r\n        </Grid>\r\n      </Grid>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default RedirectToLogin;","import React, { useState } from \"react\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { Alert } from \"@material-ui/lab\";\r\n\r\nimport { useStyles } from \"./styles\"\r\nimport LoginRedirect from \"./LoginRedirect\";\r\n\r\n//createUser props will be the axios post call that will take user object created here as parameter\r\nconst RegisterForm = ({ createUser }) => {\r\n\r\n  const [username, setUserName] = useState(\"\");\r\n  const [nickName, setNickName] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n\r\n  const [showSnackbar, setShowSnackBar] = useState(false);\r\n  const [errorMessage, setErrorMessage] = useState({});\r\n  const classes = useStyles();\r\n\r\n  const validate = () => {\r\n    let errors = {};\r\n    errors.username = username.length > 2 ? \"\" : \"Minimum of 3 characters\";\r\n    errors.password = password.length > 5 ? \"\" : \"Minimum of 6 characters\";\r\n    errors.email = (/^[a-zA-Z0-9_.-]+@[a-zA-Z0-9]+\\.[A-Za-z]+$/.test(email)) ? \"\" : \"Email Format is xyz@xxx.xxx\";\r\n    setErrorMessage({ ...errors });\r\n\r\n    return Object.values(errors).every(n => n === \"\");\r\n  }\r\n\r\n  const handleUsernameChange = (event) => {\r\n    setUserName(event.target.value);\r\n  }\r\n  const handleNickNameChange = (event) => {\r\n    setNickName(event.target.value);\r\n  }\r\n  const handlePasswordChange = (event) => {\r\n    setPassword(event.target.value);\r\n  }\r\n  const handleEmailChange = (event) => {\r\n    setEmail(event.target.value);\r\n  }\r\n  const handleCloseSnack = (event, reason) => {\r\n    setShowSnackBar(false);\r\n  };\r\n\r\n  const registerUser = (event) => {\r\n    event.preventDefault();\r\n\r\n    //Only send request when all validations are passed\r\n    if (validate()) {\r\n      createUser({\r\n        username: username,\r\n        name: nickName,\r\n        email: email,\r\n        password: password\r\n      })\r\n      setShowSnackBar(false);\r\n      setUserName(\"\");\r\n      setNickName(\"\");\r\n      setEmail(\"\");\r\n      setPassword(\"\");\r\n    } else {\r\n      setShowSnackBar(true);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className={classes.container}>\r\n      <LoginRedirect />\r\n      <div className={classes.formContainer}>\r\n        <Typography variant=\"h4\" className={classes.headerText}>\r\n          <b>Create an account</b>\r\n        </Typography>\r\n        <form onSubmit={registerUser}>\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={12} className={classes.inputField}>\r\n              <TextField\r\n                value={username}\r\n                label=\"Username\"\r\n                id=\"username\"\r\n                required\r\n                fullWidth\r\n                autoFocus\r\n                autoComplete='off'\r\n                onChange={handleUsernameChange}\r\n                error={Boolean(errorMessage.username)}\r\n                helperText={errorMessage.username ? errorMessage.username : \"\"}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                value={nickName}\r\n                label=\"Name\"\r\n                id=\"name\"\r\n                required\r\n                fullWidth\r\n                autoComplete='off'\r\n                onChange={handleNickNameChange}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                value={email}\r\n                label=\"E-mail Address\"\r\n                id=\"email\"\r\n                required\r\n                fullWidth\r\n                autoComplete='off'\r\n                onChange={handleEmailChange}\r\n                error={Boolean(errorMessage.email)}\r\n                helperText={errorMessage.email ? errorMessage.email : \"\"}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                value={password}\r\n                type=\"password\"\r\n                label=\"Password\"\r\n                id=\"password\"\r\n                required\r\n                fullWidth\r\n                autoComplete='off'\r\n                onChange={handlePasswordChange}\r\n                error={Boolean(errorMessage.password)}\r\n                helperText={errorMessage.password ? errorMessage.password : \"\"}\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n          <Grid container justify=\"center\">\r\n            <Grid item>\r\n              <Button\r\n                id=\"create-button\"\r\n                type=\"submit\"\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                size=\"large\"\r\n                className={classes.mainButton}\r\n                disableElevation\r\n              >\r\n                <b>\r\n                  Create\r\n                </b>\r\n              </Button>\r\n            </Grid>\r\n          </Grid>\r\n        </form>\r\n      </div>\r\n      <div>\r\n        <Snackbar anchorOrigin={{ vertical: \"top\", horizontal: \"right\" }} open={showSnackbar} autoHideDuration={3000} onClose={handleCloseSnack}>\r\n          <Alert onClose={handleCloseSnack} severity=\"error\">\r\n            Please make sure all inputs are valid.\r\n          </Alert>\r\n        </Snackbar>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default RegisterForm;","import axios from \"axios\"; \r\n\r\nconst baseUrl = \"/register\";\r\n\r\nconst create = async credentials => {\r\n  const response = await axios.post(baseUrl, credentials);\r\n  \r\n  return response.data;\r\n}\r\n\r\nconst registerService = {\r\n  create\r\n};\r\nexport default registerService;","export default __webpack_public_path__ + \"static/media/bg-img.0c5628a9.png\";","import { Container } from '@material-ui/core';\r\nimport React from 'react'\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport TextsmsOutlinedIcon from '@material-ui/icons/TextsmsOutlined';\r\nimport { Box, Typography } from \"@material-ui/core\";\r\nimport bgImage from \"../../assets/bg-img.png\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  container: {\r\n    height: \"100%\",\r\n    width: \"100%\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    flexDirection: \"column\",\r\n    background: `linear-gradient(180deg, rgba(58, 141, 255, 0.85), rgba(134, 185, 255, 0.85)), url(${bgImage})`,\r\n    backgroundRepeat: \"no-repeat\",\r\n    backgroundSize: \"cover\",\r\n    backgroundPosition: \"center\",\r\n  },\r\n  icon: {\r\n    fontSize: \"75px\"\r\n  }\r\n}));\r\n\r\nconst LeftImage = () => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Container className={classes.container}>\r\n      <TextsmsOutlinedIcon color=\"secondary\" className={classes.icon} />\r\n      <Typography variant=\"h4\" color=\"secondary\" align=\"center\">\r\n        <Box letterSpacing={2} lineHeight={1.5}>\r\n          Converse with anyone at any moment\r\n        </Box>\r\n      </Typography>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default LeftImage\r\n","import React, { useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport { Alert } from \"@material-ui/lab\";\r\nimport { useStyles } from \"./styles\";\r\nimport RegistrationForm from \"../../components/RegisterForm/RegisterForm\";\r\nimport registerService from \"../../services/register\";\r\nimport LeftImage from \"../../components/LeftImageIntro/LeftImage\";\r\n\r\nconst Register = () => {\r\n    const [message, setMessage] = useState(\"\");\r\n    const [errorMessage, setErrorMessage] = useState(\"\");\r\n\r\n    const history = useHistory();\r\n    const classes = useStyles();\r\n\r\n    const createUser = (userObject) => {\r\n        registerService.create(userObject)\r\n            .then(returnedUser => {\r\n                setMessage(`Registration Successful! Welcome ${returnedUser.name}`);\r\n\r\n                window.localStorage.setItem(\r\n                    \"userAuthenticated\", JSON.stringify(returnedUser)\r\n                );\r\n\r\n                history.push(\"/messenger\");\r\n            })\r\n            .catch(error => {\r\n                setErrorMessage(\"Something went wrong on our side. Please try again later\");\r\n            })\r\n    }\r\n\r\n    return (\r\n        <Grid container className={classes.container}>\r\n            <Grid item sm={5} className={classes.left} >\r\n                <LeftImage />\r\n            </Grid>\r\n            <Grid item xs={12} sm={7} className={classes.right}>\r\n                {(message &&\r\n                    <Alert severity=\"success\">\r\n                        {message}\r\n                    </Alert>\r\n                )}\r\n                {(errorMessage &&\r\n                    <Alert severity=\"error\">\r\n                        {errorMessage}\r\n                    </Alert>\r\n                )}\r\n                <RegistrationForm createUser={createUser} />\r\n            </Grid>\r\n        </Grid>\r\n    );\r\n}\r\n\r\nexport default Register;","import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nexport const useStyles = makeStyles((theme) => ({\r\n  container: {\r\n    display: \"flex\",\r\n    height: \"100%\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    margin: theme.spacing(0, 5),\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      margin: theme.spacing(0, 4)\r\n    },\r\n    [theme.breakpoints.up(\"lg\")]: {\r\n      margin: theme.spacing(0, 8)\r\n    },\r\n  },\r\n  headerText: {\r\n    fontSize: \"1.75em\",\r\n    textAlign: \"start\",\r\n    width: \"100%\",\r\n    marginBottom: theme.spacing(4)\r\n  },\r\n  formContainer: {\r\n    width: \"70%\"\r\n  },\r\n  inputField: {\r\n    marginBottom: theme.spacing(2, 0),\r\n  },\r\n  mainButton: {\r\n    padding: theme.spacing(1.5, 5.5),\r\n    margin: theme.spacing(8, 0, 5),\r\n  },\r\n  redirectContainer: {\r\n    marginBottom: theme.spacing(10),\r\n    marginRight: theme.spacing(15),\r\n    display: \"flex\",\r\n    flexDirection: \"horizontal\",\r\n    alignItems: \"end\",\r\n    width: \"100%\",\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      marginRight: theme.spacing(0)\r\n    },\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      marginRight: theme.spacing(5)\r\n    },\r\n    [theme.breakpoints.down(\"md\")]: {\r\n      marginRight: theme.spacing(6)\r\n    },\r\n  },\r\n  redirectButton: {\r\n    padding: theme.spacing(1.5, 5.5),\r\n  },\r\n  redirectText: {\r\n    color: \"lightgrey\",\r\n    marginTop: theme.spacing(1),\r\n  },\r\n}));","import React from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { useStyles } from \"./styles\"\r\n\r\nconst RedirectToRegister = () => {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n\r\n  const redirectButton = () => {\r\n    history.push(\"/register\");\r\n  }\r\n\r\n  return (\r\n    <div className={classes.redirectContainer}>\r\n      <Grid container justify=\"flex-end\" spacing={2}>\r\n        <Grid item>\r\n          <Typography className={classes.redirectText} variant=\"subtitle1\">\r\n            Don't have an account?\r\n          </Typography>\r\n        </Grid>\r\n        <Grid item>\r\n          <Button\r\n            type=\"button\"\r\n            variant=\"contained\"\r\n            color=\"secondary\"\r\n            size=\"large\"\r\n            className={classes.redirectButton}\r\n            onClick={redirectButton}\r\n          >\r\n            <b>Create</b>\r\n          </Button>\r\n        </Grid>\r\n      </Grid>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default RedirectToRegister;","import React, { useState } from \"react\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { useStyles } from \"./styles\"\r\nimport RegisterRedirect from \"./RegisterRedirect\";\r\n\r\n//loginUser prop will be an async function that takes user credential as an object\r\nconst LoginForm = ({ loginUser }) => {\r\n\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  const classes = useStyles();\r\n\r\n  const handleEmailChange = (event) => {\r\n    setEmail(event.target.value);\r\n  }\r\n  const handlePasswordChange = (event) => {\r\n    setPassword(event.target.value);\r\n  }\r\n\r\n  const submitUser = (event) => {\r\n    event.preventDefault();\r\n\r\n    loginUser({\r\n      email: email,\r\n      password: password\r\n    })\r\n    setEmail(\"\");\r\n    setPassword(\"\");\r\n  }\r\n\r\n  return (\r\n    <div className={classes.container}>\r\n      <RegisterRedirect />\r\n      <div className={classes.formContainer}>\r\n        <Typography variant=\"h4\" className={classes.headerText} >\r\n          <b>Welcome Back!</b>\r\n        </Typography>\r\n        <form onSubmit={submitUser}>\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={12} className={classes.inputField}>\r\n              <TextField\r\n                value={email}\r\n                id=\"email\"\r\n                label=\"E-mail\"\r\n                fullWidth\r\n                autoFocus\r\n                autoComplete='off'\r\n                onChange={handleEmailChange}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                value={password}\r\n                id=\"password\"\r\n                type=\"password\"\r\n                label=\"Password\"\r\n                fullWidth\r\n                autoComplete='off'\r\n                onChange={handlePasswordChange}\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n          <Grid container justify=\"center\">\r\n            <Grid item>\r\n              <Button\r\n                type=\"submit\"\r\n                id=\"login-button\"\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                size=\"large\"\r\n                className={classes.mainButton}\r\n                disableElevation\r\n              >\r\n                <b>Login</b>\r\n              </Button>\r\n            </Grid>\r\n          </Grid>\r\n        </form>\r\n      </div>\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LoginForm;","import axios from \"axios\"; \r\n\r\nconst baseUrl = \"/login\";\r\n\r\nconst login = async credentials => {\r\n  const response = await axios.post(baseUrl, credentials);\r\n  \r\n  return response.data;\r\n}\r\n\r\nconst loginService = {\r\n  login\r\n};\r\nexport default loginService;","import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nexport const useStyles = makeStyles((theme) => ({\r\n  container: {\r\n    height: \"100vh\",\r\n    width: \"100vw\"\r\n  },\r\n  left: {\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      display: \"none\"\r\n    }\r\n  }\r\n}));","import React, { useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport { Alert } from \"@material-ui/lab\";\r\nimport LoginForm from \"../../components/LoginForm/LoginForm\";\r\nimport loginService from \"../../services/login\";\r\nimport { useStyles } from \"./styles\";\r\nimport LeftImage from \"../../components/LeftImageIntro/LeftImage\";\r\n\r\nconst Login = () => {\r\n\r\n    const [message, setMessage] = useState(\"\");\r\n    const [errorMessage, setErrorMessage] = useState(\"\");\r\n\r\n    const history = useHistory();\r\n    const classes = useStyles();\r\n\r\n    const loginUser = (userObject) => {\r\n        loginService.login(userObject)\r\n            .then(returnedUser => {\r\n                setMessage(`Login Successful! Redirecting to messager app`);\r\n\r\n                window.localStorage.setItem(\r\n                    \"userAuthenticated\", JSON.stringify(returnedUser)\r\n                );\r\n                history.push(\"/messenger\");\r\n            })\r\n            .catch(error => {\r\n                setErrorMessage(\"Invalid Username or Password\");\r\n                setTimeout(() => {\r\n                    setErrorMessage(null);\r\n                }, 5000)\r\n            })\r\n    }\r\n\r\n    return (\r\n        <Grid container className={classes.container}>\r\n            <Grid item sm={5} className={classes.left} >\r\n                <LeftImage />\r\n            </Grid>\r\n            <Grid item xs={12} sm={7}>\r\n                {(message &&\r\n                    <Alert severity=\"success\">\r\n                        {message}\r\n                    </Alert>\r\n                )}\r\n                {(errorMessage &&\r\n                    <Alert severity=\"error\">\r\n                        {errorMessage}\r\n                    </Alert>\r\n                )}\r\n                <LoginForm loginUser={loginUser} />\r\n            </Grid>\r\n        </Grid>\r\n    );\r\n}\r\n\r\nexport default Login;","import axios from \"axios\"; \r\n\r\nconst baseUrl = \"/users\";\r\n\r\nconst getUsers = async username => {\r\n  const response = await axios.post(baseUrl, username);\r\n  \r\n  return response.data;\r\n}\r\n\r\nconst usersService = {\r\n  getUsers\r\n};\r\nexport default usersService;","import axios from \"axios\"; \r\n\r\nconst baseUrl = \"/messages\";\r\n\r\nlet token = null\r\n\r\nconst createConversation = async usernames => {\r\n  const response = await axios.post(baseUrl, usernames);\r\n  \r\n  return response.data;\r\n}\r\n\r\nconst setToken = newToken => {\r\n  token = `bearer ${newToken}`;\r\n}\r\n\r\nconst messengerService = {\r\n  createConversation,\r\n  setToken\r\n};\r\nexport default messengerService;\r\n","//Randomize Avatar Color based on Usernames\r\nexport const stringToHslColor = (str, saturation, lightness) => {\r\n  let hash = 0;\r\n  for (let i = 0; i < str.length; i++) {\r\n    hash = str.charCodeAt(i) + ((hash << 5) - hash);\r\n  }\r\n\r\n  let h = hash % 360;\r\n  return `hsl(${h}, ${saturation}%, ${lightness}%)`;\r\n}","import React from \"react\";\r\nimport Card from '@material-ui/core/Card';\r\nimport CardHeader from \"@material-ui/core/CardHeader\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { stringToHslColor } from \"../../../helper/functions\";\r\n\r\nconst User = ({ username }) => {\r\n\r\n  const avatarBGColor = stringToHslColor(username, 50, 80);\r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    userCardContainer: {\r\n      height: \"100px\",\r\n      width: \"100%\",\r\n      display: \"flex\",\r\n      alignItems: \"center\",\r\n      cursor: \"pointer\",\r\n      boxShadow: \"0.125em 0.125em 0.25em rgba(0, 0, 0, 0.05)\",\r\n      paddingLeft: theme.spacing(1),\r\n    },\r\n    avatarColor: {\r\n      background: `${avatarBGColor}`,\r\n      width: \"50px\",\r\n      height: \"50px\"\r\n    }\r\n  }))\r\n\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Card className={classes.userCardContainer} elevation={0}>\r\n      <CardHeader\r\n        avatar={\r\n          <Avatar className={classes.avatarColor} aria-label=\"users\" >\r\n            {username.substring(0, 1).toUpperCase()}\r\n          </Avatar>\r\n        }\r\n        title={<b>{username}</b>}\r\n      />\r\n    </Card>\r\n  )\r\n}\r\n\r\nexport default User;","import React from \"react\";\r\nimport User from \"../User/User\";\r\nimport { List, ListItem } from \"@material-ui/core\";\r\n\r\nconst UserList = ({ users, filterUser, startConversation }) => {\r\n\r\n  const reduceUsers = (acc, cur) => {\r\n    if (cur.username.toLowerCase().includes(filterUser.toLowerCase())) {\r\n      return [...acc,\r\n      <ListItem disableGutters={true} style={{ padding: 1 }} key={cur.id} onClick={() => startConversation(cur)}>\r\n        <User username={cur.username} />\r\n      </ListItem>\r\n      ];\r\n    }\r\n    return acc;\r\n  }\r\n\r\n  return (\r\n    <List>\r\n      {users ? users.reduce(reduceUsers, []) : null}\r\n    </List>\r\n  )\r\n}\r\n\r\nexport default UserList;","import React from \"react\"\r\nimport { IconButton, InputBase, Paper } from \"@material-ui/core\";\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { ClassNames } from \"@emotion/react\";\r\n\r\nconst Filter = ({ name, handler }) => {\r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    searchContainer: {\r\n      background: `rgba(163, 198, 255, 0.3)`,\r\n      height: 65,\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      margin: theme.spacing(0, 2),\r\n    },\r\n    searchIconContainer: {\r\n      paddingLeft: 10\r\n    }\r\n  }));\r\n  const classes = useStyles();\r\n  return (\r\n    <Paper\r\n      className={classes.searchContainer}\r\n      elevation={0}\r\n    >\r\n      <IconButton aria-label=\"search\" disabled=\"true\">\r\n        <SearchIcon />\r\n      </IconButton>\r\n      <InputBase\r\n        placeholder=\"Search\"\r\n        id=\"search-bar\"\r\n        inputProps={{ 'aria-label': 'Search' }}\r\n        value={name}\r\n        onChange={handler}\r\n      />\r\n    </Paper>\r\n  )\r\n}\r\n\r\nexport default Filter;","import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nexport const useStyles = makeStyles((theme) => ({\r\n  userPanelContainer: {\r\n    maxHeight: \"100vh\",\r\n    overflow: \"auto\",\r\n    boxShadow: \"0.125em 0.125em 0.25em rgba(0, 0, 0, 0.025)\",\r\n  },\r\n  chatHeaderText: {\r\n    margin: theme.spacing(0, 2, 2, 2)\r\n  },\r\n}));","import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nexport const useStyles = makeStyles((theme) => ({\r\n  currentUserContainer: {\r\n    width: \"100%\",\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"left\",\r\n    justifyContent: \"space-between\",\r\n    padding: theme.spacing(3, 2),\r\n  },\r\n  avatarNameContainer: {\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    alignItems: \"center\",\r\n  },\r\n  currentUserAvatarColor: {\r\n    background: `linear-gradient(180deg, rgba(58, 141, 255, 0.85), rgba(134, 185, 255, 0.85))`,\r\n    width: \"60px\",\r\n    height: \"60px\",\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  currentUserName: {\r\n    fontSize: 24\r\n  },\r\n}));\r\n","import React, { useState, useRef, useEffect } from 'react';\r\nimport Button from '@mui/material/Button';\r\nimport ClickAwayListener from '@mui/material/ClickAwayListener';\r\nimport Grow from '@mui/material/Grow';\r\nimport Paper from '@mui/material/Paper';\r\nimport Popper from '@mui/material/Popper';\r\nimport MenuItem from '@mui/material/MenuItem';\r\nimport MenuList from '@mui/material/MenuList';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport MoreHorizIcon from '@material-ui/icons/MoreHoriz';\r\nimport { useStyles } from './styles';\r\nconst AccountMenu = ({ setCurrentUser }) => {\r\n  const [open, setOpen] = useState(false);\r\n  const anchorRef = useRef(null);\r\n\r\n  const classes = useStyles();\r\n\r\n  const handleToggle = () => {\r\n    setOpen((prevOpen) => !prevOpen);\r\n  };\r\n\r\n  const handleClose = (event) => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const handleListKeyDown = (event) => {\r\n    if (event.key === 'Tab') {\r\n      event.preventDefault();\r\n      setOpen(false);\r\n    } else if (event.key === 'Escape') {\r\n      setOpen(false);\r\n    }\r\n  }\r\n\r\n  //Handle Logging Out\r\n  const history = useHistory();\r\n\r\n  const handleLogOut = (event) => {\r\n    window.localStorage.removeItem(\"userAuthenticated\");\r\n    history.push(\"/register\");\r\n    setCurrentUser(null);\r\n  }\r\n\r\n  // return focus to the button when we transitioned from !open -> open\r\n  const prevOpen = useRef(open);\r\n  useEffect(() => {\r\n    if (prevOpen.current === true && open === false) {\r\n      anchorRef.current.focus();\r\n    }\r\n\r\n    prevOpen.current = open;\r\n  }, [open]);\r\n\r\n  return (\r\n    <div className={classes.accountSettings}>\r\n      <Button\r\n        ref={anchorRef}\r\n        id=\"show-account-setting\"\r\n        onClick={handleToggle}\r\n        size=\"large\"\r\n      >\r\n        <MoreHorizIcon />\r\n      </Button>\r\n      <Popper\r\n        open={open}\r\n        anchorEl={anchorRef.current}\r\n        placement=\"bottom-start\"\r\n        transition\r\n        disablePortal\r\n      >\r\n        {({ TransitionProps, placement }) => (\r\n          <Grow\r\n            {...TransitionProps}\r\n            style={{\r\n              transformOrigin:\r\n                placement === 'bottom-start' ? 'left top' : 'left bottom',\r\n            }}\r\n          >\r\n            <Paper>\r\n              <ClickAwayListener onClickAway={handleClose}>\r\n                <MenuList\r\n                  autoFocusItem={open}\r\n                  onKeyDown={handleListKeyDown}\r\n                >\r\n                  <MenuItem id=\"logout-button\" onClick={handleLogOut}>Logout</MenuItem>\r\n                </MenuList>\r\n              </ClickAwayListener>\r\n            </Paper>\r\n          </Grow>\r\n        )}\r\n      </Popper>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AccountMenu;","import { Avatar, Container, Typography } from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport { useStyles } from './styles'\r\nimport AccountMenu from \"./AccountMenu\";\r\n\r\nconst CurrentUserBox = ({ currentUser, setCurrentUser }) => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Container className={classes.currentUserContainer}>\r\n      <div className={classes.avatarNameContainer}>\r\n        <Avatar className={classes.currentUserAvatarColor} />\r\n        <Typography className={classes.currentUserName} >\r\n          <b>{currentUser ? currentUser.username : \"None\"}</b>\r\n        </Typography>\r\n      </div>\r\n      <AccountMenu setCurrentUser={setCurrentUser} />\r\n    </Container>\r\n  )\r\n};\r\n\r\nexport default CurrentUserBox;","import UserList from \"./UserList/UserList\";\r\nimport FilterInput from \"./FilterContacts/FilterInput\";\r\nimport React, { useState } from \"react\";\r\nimport { Typography } from \"@material-ui/core\";\r\nimport { useStyles } from \"./styles\";\r\nimport CurrentUserBox from \"./CurrentUserBox/CurrentUserBox\";\r\n\r\nconst UserPanel = ({ currentUser, setCurrentUser, users, startConversation }) => {\r\n  const [filteredName, setFilter] = useState(\"\");\r\n\r\n  const handleFilter = (event) => {\r\n    setFilter(event.target.value);\r\n  }\r\n\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.userPanelContainer}>\r\n      <CurrentUserBox currentUser={currentUser} setCurrentUser={setCurrentUser} />\r\n      <Typography className={classes.chatHeaderText} variant=\"h4\">Chats</Typography>\r\n      <FilterInput name={filteredName} handler={handleFilter} />\r\n      <UserList users={users} filterUser={filteredName} startConversation={startConversation} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default UserPanel;","import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nexport const useStyles = makeStyles((theme) => ({\r\n  messageBox: {\r\n    flexGrow: 1,\r\n    overflow: \"scroll\",\r\n    margin: theme.spacing(1),\r\n    [theme.breakpoints.up(\"md\")]: {\r\n      margin: theme.spacing(2, 4)\r\n    },\r\n  },\r\n  sendingMessageContainer: {\r\n    margin: theme.spacing(2),\r\n    display: \"flex\",\r\n    justifyContent: \"flex-end\",\r\n  },\r\n  receivingMessageContainer: {\r\n    margin: theme.spacing(2),\r\n    display: \"flex\",\r\n    justifyContent: \"flex-start\",\r\n  },\r\n  sentMessageBackground: {\r\n    background: \"linear-gradient(90deg, rgba(58, 141, 255, 0.85), rgba(134, 185, 255, 0.85))\",\r\n    color: \"white\",\r\n    borderBottomLeftRadius: 18,\r\n    borderTopLeftRadius: 18,\r\n    borderBottomRightRadius: 18,\r\n    padding: theme.spacing(2, 5, 2, 4),\r\n    maxWidth: \"50%\",\r\n  },\r\n  receivedMessageBackground: {\r\n    background: \"#F4F4F4\",\r\n    color: \"rgba(89, 89, 89, 0.80)\",\r\n    borderBottomLeftRadius: 18,\r\n    borderTopRightRadius: 18,\r\n    borderBottomRightRadius: 18,\r\n    padding: theme.spacing(2, 5, 2, 4),\r\n    maxWidth: \"50%\",\r\n  }\r\n}));","import React from \"react\";\r\nimport { useStyles } from \"./styles\";\r\nimport ScrollToBottom from 'react-scroll-to-bottom';\r\nconst ChatBox = ({ currentUser, messages }) => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <ScrollToBottom className={classes.messageBox}>\r\n      {messages.map((message, i) =>\r\n        currentUser.username == message.sender ?\r\n          <div key={i} className={classes.sendingMessageContainer}>\r\n            <div className={classes.sentMessageBackground}>\r\n              {message.text}\r\n            </div>\r\n          </div> :\r\n          <div key={i} className={classes.receivingMessageContainer}>\r\n            <div className={classes.receivedMessageBackground}>\r\n              <b>{message.sender}:</b> {message.text}\r\n            </div>\r\n          </div>\r\n      )}\r\n    </ScrollToBottom>\r\n  );\r\n}\r\n\r\nexport default ChatBox;","import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nexport const useStyles = makeStyles((theme) => ({\r\n  chatHeaderContainer: {\r\n    boxShadow: \"0.125em 0.25em 0.5em rgba(0, 0, 0, 0.1)\",\r\n    width: \"100%\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"space-between\",\r\n    padding: theme.spacing(3, 0),\r\n  },\r\n  chatHeaderTextAvatarContainer: {\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    alignItems: \"center\",\r\n    marginLeft: theme.spacing(4)\r\n  },\r\n  chatHeaderText: {\r\n    marginLeft: theme.spacing(4),\r\n    fontSize: 30,\r\n    fontWeight: \"bold\",\r\n  },\r\n  closeChat: {\r\n    marginRight: theme.spacing(1),\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      display: \"none\"\r\n    },\r\n  },\r\n  closeIcon: {\r\n    fontSize: 50\r\n  }\r\n}));","import { Avatar, Button } from '@material-ui/core';\r\nimport React from 'react';\r\nimport { useStyles } from \"./styles\";\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport { stringToHslColor } from \"../../../helper/functions\";\r\n\r\nconst ChatHeader = ({ targetName, toggleOpen }) => {\r\n  const classes = useStyles();\r\n\r\n  const avatarBGColor = stringToHslColor(targetName, 50, 80);\r\n\r\n  return (\r\n    <div className={classes.chatHeaderContainer}>\r\n      <div className={classes.chatHeaderTextAvatarContainer}>\r\n        <Avatar style={{ width: 50, height: 50, background: `${avatarBGColor}` }}>\r\n          {targetName.substring(0, 1).toUpperCase()}\r\n        </Avatar>\r\n        <div className={classes.chatHeaderText}>\r\n          {targetName}\r\n        </div>\r\n      </div>\r\n      <Button onClick={toggleOpen} className={classes.closeChat}>\r\n        <CloseIcon color=\"primary\" fontSize=\"large\" />\r\n      </Button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ChatHeader\r\n","import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nexport const useStyles = makeStyles((theme) => ({\r\n  chatInput: {\r\n    display: \"flex\",\r\n    flexDirection: \"horizontal\",\r\n    alignItems: \"center\",\r\n    background: `rgba(163, 198, 255, 0.3)`,\r\n    height: 80,\r\n    borderRadius: 20,\r\n    margin: theme.spacing(0, 2, 2, 2),\r\n    padding: theme.spacing(0, 4),\r\n\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      margin: theme.spacing(0, 2, 2, 2),\r\n      height: 60\r\n    },\r\n  },\r\n  chatInputText: {\r\n    fontSize: 22,\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      fontSize: 18\r\n    },\r\n  },\r\n}));","import React from 'react'\r\nimport { IconButton, InputBase, Paper } from \"@material-ui/core\";\r\nimport { useStyles } from \"./styles\"\r\nimport SendIcon from '@mui/icons-material/Send';\r\nimport { useMediaQuery } from \"@mui/material\";\r\nimport { useTheme } from '@mui/material/styles';\r\n\r\nconst ChatInput = ({ sendMessage, text, setText }) => {\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n  const mobile = useMediaQuery(theme.breakpoints.down('sm'));\r\n\r\n  const handleText = (event) => {\r\n    event.preventDefault();\r\n    setText(event.target.value);\r\n  }\r\n  return (\r\n    <form autoComplete=\"off\" onSubmit={sendMessage}>\r\n      <Paper\r\n        className={classes.chatInput}\r\n        elevation={0}\r\n      >\r\n        <InputBase\r\n          className={classes.chatInputText}\r\n          value={text}\r\n          variant=\"outlined\"\r\n          placeholder={mobile ? \"Say.....\" : \"Type something...\"}\r\n          fullWidth\r\n          autoFocus\r\n          onChange={handleText}\r\n          onKeyPress={event => event.key === \"Enter\" ? sendMessage(event) : null}\r\n        />\r\n        <IconButton\r\n          aria-label=\"send-message\"\r\n          disabled=\"true\"\r\n          disabled={text.trim() === \"\"}\r\n          type=\"button\"\r\n          onClick={sendMessage}\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          size=\"large\"\r\n          disableElevation\r\n        >\r\n          <SendIcon />\r\n        </IconButton>\r\n      </Paper>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default ChatInput\r\n","import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nexport const useStyles = makeStyles((theme) => ({\r\n  chatContainer: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    height: \"100vh\",\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      width: \"100vw\"\r\n    },\r\n  },\r\n}));","import React from 'react'\r\nimport ChatBox from './ChatBox/ChatBox'\r\nimport ChatHeader from './ChatHeader/ChatHeader'\r\nimport ChatInput from './ChatInput/ChatInput'\r\nimport { useStyles } from './styles'\r\n\r\nconst ChatContainer = ({ currentUser, targetName, messages, text, setText, sendMessage, toggleOpen }) => {\r\n  const classes = useStyles();\r\n  return (\r\n    <div className={classes.chatContainer}>\r\n      <ChatHeader targetName={targetName} toggleOpen={toggleOpen} />\r\n      <ChatBox currentUser={currentUser} messages={messages} />\r\n      <ChatInput text={text} setText={setText} sendMessage={sendMessage} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ChatContainer\r\n","import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nexport const useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    height: \"100vh\",\r\n    width: \"100vw\"\r\n  },\r\n  openPanel: {\r\n    display: \"block\"\r\n  },\r\n  closePanel: {\r\n    display: \"none\",\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      display: \"block\"\r\n    },\r\n  },\r\n  noChatContainer: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    justifyContent: \"center\",\r\n    height: \"100%\",\r\n    background: \"rgba(232, 232, 232, 0.4)\",\r\n    textAlign: \"center\",\r\n    alignItems: \"center\",\r\n\r\n  },\r\n  noChatIcon: {\r\n    color: \"rgba(89, 89, 89, 0.80)\",\r\n    fontSize: 100,\r\n    marginBottom: theme.spacing(5)\r\n  },\r\n  noChatText: {\r\n    color: \"rgba(89, 89, 89, 0.80)\",\r\n  }\r\n}));","import React, { useState, useEffect } from \"react\";\r\nimport { BrowserRouter, Route, Switch, Redirect } from \"react-router-dom\";\r\nimport Register from \"./pages/Register/Register\";\r\nimport Login from \"./pages/Login/Login\";\r\nimport Messenger from \"./pages/Messenger/Messenger\";\r\nimport messengerService from \"./services/messenger\";\r\n\r\nconst App = () => {\r\n  const [user, setUser] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const loggedUserJSON = window.localStorage.getItem(\"userAuthenticated\");\r\n    if (loggedUserJSON) {\r\n      const userLoggedIn = JSON.parse(loggedUserJSON);\r\n      setUser(userLoggedIn);\r\n      messengerService.setToken(userLoggedIn.token)\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <BrowserRouter>\r\n      <Switch>\r\n        <Route path=\"/register\" component={Register} />\r\n        <Route path=\"/login\" component={Login} />\r\n        <Route path=\"/messenger\">\r\n          <Messenger />\r\n        </Route>\r\n        <Route path=\"/\">\r\n          {user ? <Redirect to=\"/messenger\" /> : <Register />}\r\n        </Route>\r\n      </Switch>\r\n    </BrowserRouter>\r\n  );\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport { MuiThemeProvider } from \"@material-ui/core\";\r\nimport { theme } from \"./themes/theme\";\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <MuiThemeProvider theme={theme}>\r\n    <App />\r\n  </MuiThemeProvider>\r\n  , document.getElementById('root'));"],"sourceRoot":""}