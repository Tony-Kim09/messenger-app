{"version":3,"sources":["pages/Messenger.js","themes/theme.js","assets/bg-img.png","themes/loginAndRegister.js","components/RegisterForm/LoginRedirect.js","components/RegisterForm/RegisterForm.js","services/register.js","pages/Register.js","components/LoginForm/RegisterRedirect.js","components/LoginForm/LoginForm.js","services/login.js","pages/Login.js","themes/messengerStyle.js","components/ChatBox.js","components/LogoutButton.js","components/UserPanel/User.js","components/UserPanel/UserList.js","components/UserPanel/FilterContacts/FilterInput.js","components/UserPanel/UserPanel.js","services/users.js","services/messenger.js","App.js","index.js"],"names":["socket","theme","createMuiTheme","typography","fontFamily","fontSize","palette","primary","main","secondary","contrastText","loginRegisterStyles","makeStyles","root","height","paper","margin","spacing","display","flexDirection","alignItems","form","width","marginTop","image","backgroundImage","bgImage","backgroundRepeat","backgroundSize","backgroundPosition","mainButton","padding","secondaryButton","loginRegisterRedirect","marginBottom","loginRedirectText","color","backgroundImageText","marginLeft","marginRight","RedirectToLogin","classes","history","useHistory","className","Grid","container","justify","item","Typography","variant","Button","type","size","onClick","push","RegisterForm","createUser","useState","username","setUserName","nickName","setNickName","password","setPassword","email","setEmail","showSnackbar","setShowSnackBar","errorMessage","setErrorMessage","handleCloseSnack","event","reason","LoginRedirect","alignContent","component","onSubmit","preventDefault","errors","length","test","Object","values","every","n","validate","name","xs","TextField","value","label","required","fullWidth","autoFocus","onChange","target","error","Boolean","helperText","disableElevation","Snackbar","anchorOrigin","vertical","horizontal","open","autoHideDuration","onClose","Alert","severity","registerService","create","credentials","a","axios","post","response","data","Register","message","setMessage","useStyle","CssBaseline","sm","md","userObject","then","returnedUser","window","localStorage","setItem","JSON","stringify","catch","RedirectToRegister","LoginForm","loginUser","RegisterRedirect","loginService","login","Login","setTimeout","messengerStyle","userList","messageBox","chatInput","ChatBox","messages","text","setText","sendMessage","map","i","sender","autoComplete","onKeyPress","key","disabled","trim","LogoutButton","setUser","removeItem","User","Card","CardContent","UserList","users","filterUser","startConversation","useStyles","direction","reduce","acc","cur","includes","id","Filter","handler","UserPanel","filteredName","setFilter","FilterInput","usersService","getUsers","messengerService","createConversation","usernames","setToken","newToken","Messenger","currentConversationID","setConversationID","existingChat","setExistingChat","currentUser","setCurrentUser","setUsers","setMessages","useEffect","io","loggedUserJSON","getItem","userLoggedIn","parse","alert","participants","conversation","conversationInfo","user","emit","on","xd","trimmedText","msg","App","token","path","to","ReactDOM","render","document","getElementById"],"mappings":"yJAaIA,E,iFCXSC,EAAQC,YAAe,CAClCC,WAAY,CACVC,WAAY,WACZC,SAAU,IAEZC,QAAS,CACPC,QAAS,CAAEC,KAAM,WACjBC,UAAW,CAAED,KAAM,OAAQE,aAAc,c,oCCT9B,MAA0B,mCCmD1BC,EA/CaC,aAAW,SAACX,GAAD,MAAY,CAC/CY,KAAM,CACJC,OAAQ,SAEVC,MAAO,CACLC,OAAQf,EAAMgB,QAAQ,GAAI,GAC1BC,QAAS,OACTC,cAAe,SACfC,WAAY,UAEdC,KAAM,CACJC,MAAO,OACPC,UAAWtB,EAAMgB,QAAQ,IAE3BO,MAAO,CACLC,gBAAgB,OAAD,OAASC,EAAT,KACfC,iBAAkB,YAClBC,eAAgB,QAChBC,mBAAoB,UAEtBC,WAAY,CACVd,OAAQf,EAAMgB,QAAQ,EAAG,EAAG,GAC5Bc,QAAS9B,EAAMgB,QAAQ,EAAG,IAE5Be,gBAAiB,CACfhB,OAAQf,EAAMgB,QAAQ,EAAG,EAAG,GAC5Bc,QAAS9B,EAAMgB,QAAQ,EAAG,IAE5BgB,sBAAuB,CACnBC,aAAcjC,EAAMgB,QAAQ,GAC5BC,QAAS,OACTC,cAAe,aACfC,WAAY,MACZE,MAAO,QAEXa,kBAAmB,CACjBZ,UAAWtB,EAAMgB,QAAQ,GACzBmB,MAAO,aAETC,oBAAqB,CACnBD,MAAO,QACPE,WAAY,MACZC,YAAa,W,6CCNJC,EAjCS,WACtB,IAAMC,EAAU9B,IACV+B,EAAUC,cAMhB,OACE,qBAAKC,UAAWH,EAAQR,sBAAxB,SACE,eAACY,EAAA,EAAD,CAAMC,WAAS,EAACC,QAAQ,WAAW9B,QAAS,EAA5C,UACE,cAAC4B,EAAA,EAAD,CAAMG,MAAI,EAAV,SACE,cAACC,EAAA,EAAD,CAAYL,UAAWH,EAAQN,kBAAmBe,QAAQ,YAA1D,wCAIF,cAACL,EAAA,EAAD,CAAMG,MAAI,EAAV,SACA,cAACG,EAAA,EAAD,CACEC,KAAK,SACLF,QAAQ,YACRd,MAAM,YACNiB,KAAK,QACLT,UAAWH,EAAQT,gBACnBsB,QAnBe,WACrBZ,EAAQa,KAAK,WAYT,2BCoIOC,EAhJM,SAAC,GAAoB,IAAlBC,EAAiB,EAAjBA,WAAiB,EAEPC,mBAAS,IAFF,mBAEhCC,EAFgC,KAEtBC,EAFsB,OAGPF,mBAAS,IAHF,mBAGhCG,EAHgC,KAGtBC,EAHsB,OAIPJ,mBAAS,IAJF,mBAIhCK,EAJgC,KAItBC,EAJsB,OAKbN,mBAAS,IALI,mBAKhCO,EALgC,KAKzBC,EALyB,OAOCR,oBAAS,GAPV,mBAOhCS,EAPgC,KAOlBC,EAPkB,OAQCV,mBAAU,IARX,mBAQhCW,EARgC,KAQlBC,EARkB,KASjC7B,EAAU9B,IAwBV4D,EAAmB,SAACC,EAAOC,GAChB,cAAXA,GAGJL,GAAgB,IAwBlB,OACE,sBAAKxB,UAAWH,EAAQ1B,MAAxB,UACE,cAAC2D,EAAD,IACA,cAAC7B,EAAA,EAAD,CAAMC,WAAS,EAAC6B,aAAa,aAA7B,SACI,cAAC1B,EAAA,EAAD,CAAY2B,UAAU,KAAK1B,QAAQ,KAAnC,kCAIJ,8BACA,uBAAMN,UAAWH,EAAQpB,KAAMwD,SA9Bd,SAACL,GACpBA,EAAMM,kBA9BS,WACf,IAAIC,EAAS,GAMb,OALAA,EAAOpB,SAAWA,EAASqB,OAAS,EAAI,GAAK,0BAC7CD,EAAOhB,SAAWA,EAASiB,OAAS,EAAI,GAAK,0BAC7CD,EAAOd,MAAS,4CAA4CgB,KAAKhB,GAAU,GAAK,8BAChFK,EAAgB,eAAKS,IAEdG,OAAOC,OAAOJ,GAAQK,OAAM,SAAAC,GAAC,MAAU,KAANA,KA0BpCC,GAaFlB,GAAgB,IAZhBX,EAAW,CACTE,SAAUA,EACV4B,KAAM1B,EACNI,MAAOA,EACPF,SAAUA,IAEZK,GAAgB,GAChBR,EAAY,IACZE,EAAY,IACZI,EAAS,IACTF,EAAY,MAeZ,UACE,eAACnB,EAAA,EAAD,CAAMC,WAAS,EAAC7B,QAAS,EAAzB,UACE,cAAC4B,EAAA,EAAD,CAAMG,MAAI,EAACwC,GAAI,GAAf,SACI,cAACC,EAAA,EAAD,CACAC,MAAO/B,EACPgC,MAAM,WACNC,UAAQ,EACRC,WAAS,EACTC,WAAS,EACTC,SA1DiB,SAACvB,GAC5BZ,EAAYY,EAAMwB,OAAON,QA0DfO,MAAOC,QAAQ7B,EAAaV,UAC5BwC,WAAY9B,EAAaV,SAAWU,EAAaV,SAAW,OAGhE,cAACd,EAAA,EAAD,CAAMG,MAAI,EAACwC,GAAI,GAAf,SACI,cAACC,EAAA,EAAD,CACAC,MAAO7B,EACP8B,MAAM,OACNC,UAAQ,EACRC,WAAS,EACTE,SAlEiB,SAACvB,GAC5BV,EAAYU,EAAMwB,OAAON,YAoEnB,cAAC7C,EAAA,EAAD,CAAMG,MAAI,EAACwC,GAAI,GAAf,SACI,cAACC,EAAA,EAAD,CACAC,MAAOzB,EACP0B,MAAM,iBACNC,UAAQ,EACRC,WAAS,EACTE,SArEc,SAACvB,GACzBN,EAASM,EAAMwB,OAAON,QAqEZO,MAAOC,QAAQ7B,EAAaJ,OAC5BkC,WAAY9B,EAAaJ,MAAQI,EAAaJ,MAAQ,OAG1D,cAACpB,EAAA,EAAD,CAAMG,MAAI,EAACwC,GAAI,GAAf,SACI,cAACC,EAAA,EAAD,CACAC,MAAO3B,EACPX,KAAK,WACLuC,MAAM,WACNC,UAAQ,EACRC,WAAS,EACTE,SApFiB,SAACvB,GAC5BR,EAAYQ,EAAMwB,OAAON,QAoFfO,MAAOC,QAAQ7B,EAAaN,UAC5BoC,WAAY9B,EAAaN,SAAUM,EAAaN,SAAW,UAI/D,cAAClB,EAAA,EAAD,CAAMC,WAAS,EAACC,QAAQ,SAAxB,SACI,cAACF,EAAA,EAAD,CAAMG,MAAI,EAAV,SACE,cAACG,EAAA,EAAD,CACAC,KAAK,SACLF,QAAQ,YACRd,MAAM,UACNiB,KAAK,QACLT,UAAWH,EAAQX,WACnBsE,kBAAgB,EANhB,6BAcV,8BACE,cAACC,EAAA,EAAD,CAAUC,aAAc,CAAEC,SAAU,MAAOC,WAAY,SAAUC,KAAQtC,EAAcuC,iBAAkB,IAAMC,QAASpC,EAAxH,SACE,cAACqC,EAAA,EAAD,CAAOD,QAASpC,EAAkBsC,SAAS,QAA3C,4D,0CCtIKC,EAHS,CACtBC,OAPU,uCAAG,WAAMC,GAAN,eAAAC,EAAA,sEACUC,IAAMC,KAHf,YAG6BH,GAD9B,cACPI,EADO,yBAGNA,EAASC,MAHH,2CAAH,uDCoDGC,EA7CE,WAAO,IAAD,EACW5D,mBAAS,IADpB,mBACZ6D,EADY,KACHC,EADG,OAEqB9D,mBAAS,IAF9B,mBAEZW,EAFY,KAEEC,EAFF,KAIb5B,EAAUC,cACVF,EAAUgF,IAkBhB,OACI,eAAC5E,EAAA,EAAD,CAAMC,WAAS,EAACF,UAAWH,EAAQ5B,KAAnC,UACI,cAAC6G,EAAA,EAAD,IACA,cAAC7E,EAAA,EAAD,CAAMG,MAAI,EAACwC,IAAI,EAAOmC,GAAI,EAAGC,GAAI,EAAGhF,UAAWH,EAAQjB,QAEvD,eAACqB,EAAA,EAAD,CAAMG,MAAI,EAACwC,GAAI,GAAImC,GAAI,EAAGC,GAAI,EAA9B,UACML,GACE,cAACX,EAAA,EAAD,CAAOC,SAAS,UAAhB,SACKU,IAGPlD,GACE,cAACuC,EAAA,EAAD,CAAOC,SAAS,QAAhB,SACKxC,IAGT,cAAC,EAAD,CAAkBZ,WAhCX,SAACoE,GACnBf,EAAgBC,OAAOc,GACPC,MAAK,SAAAC,GACFP,EAAW,oCAAD,OAAqCO,EAAaxC,OAE5DyC,OAAOC,aAAaC,QAChB,oBAAqBC,KAAKC,UAAUL,IAGxCrF,EAAQa,KAAK,iBAEhB8E,OAAM,SAAApC,GACH3B,EAAgB,yECUzBgE,EAjCY,WACzB,IAAM7F,EAAU9B,IACV+B,EAAUC,cAMhB,OACE,qBAAKC,UAAWH,EAAQR,sBAAxB,SACE,eAACY,EAAA,EAAD,CAAMC,WAAS,EAACC,QAAQ,WAAW9B,QAAS,EAA5C,UACE,cAAC4B,EAAA,EAAD,CAAMG,MAAI,EAAV,SACE,cAACC,EAAA,EAAD,CAAYL,UAAWH,EAAQN,kBAAmBe,QAAQ,YAA1D,sCAIF,cAACL,EAAA,EAAD,CAAMG,MAAI,EAAV,SACE,cAACG,EAAA,EAAD,CACIC,KAAK,SACLF,QAAQ,YACRd,MAAM,YACNiB,KAAK,QACLT,UAAWH,EAAQT,gBACnBsB,QAnBW,WACrBZ,EAAQa,KAAK,cAYP,4BCiEKgF,EA/EG,SAAC,GAAmB,IAAjBC,EAAgB,EAAhBA,UAAgB,EAET9E,mBAAS,IAFA,mBAE5BO,EAF4B,KAErBC,EAFqB,OAGHR,mBAAS,IAHN,mBAG5BK,EAH4B,KAGlBC,EAHkB,KAK7BvB,EAAU9B,IAoBhB,OACE,sBAAKiC,UAAWH,EAAQ1B,MAAxB,UACE,cAAC0H,EAAD,IACA,cAAC5F,EAAA,EAAD,CAAMC,WAAS,EAAC6B,aAAa,aAA7B,SACI,cAAC1B,EAAA,EAAD,CAAY2B,UAAU,KAAK1B,QAAQ,KAAnC,6BAIJ,8BACA,uBAAMN,UAAWH,EAAQpB,KAAMwD,SApBhB,SAACL,GAClBA,EAAMM,iBAEJ0D,EAAU,CACRvE,MAAOA,EACPF,SAAUA,IAEZG,EAAS,IACTF,EAAY,KAYZ,UACE,eAACnB,EAAA,EAAD,CAAMC,WAAS,EAAC7B,QAAS,EAAzB,UACE,cAAC4B,EAAA,EAAD,CAAMG,MAAI,EAACwC,GAAI,GAAf,SACI,cAACC,EAAA,EAAD,CACAC,MAAOzB,EACP0B,MAAM,SACNC,UAAQ,EACRC,WAAS,EACTC,WAAS,EACTC,SApCc,SAACvB,GACzBN,EAASM,EAAMwB,OAAON,YAsChB,cAAC7C,EAAA,EAAD,CAAMG,MAAI,EAACwC,GAAI,GAAf,SACI,cAACC,EAAA,EAAD,CACAC,MAAO3B,EACPX,KAAK,WACLuC,MAAM,WACNC,UAAQ,EACRC,WAAS,EACTE,SA3CiB,SAACvB,GAC5BR,EAAYQ,EAAMwB,OAAON,YA6CnB,cAAC7C,EAAA,EAAD,OAGA,cAACA,EAAA,EAAD,CAAMC,WAAS,EAACC,QAAQ,SAAxB,SACI,cAACF,EAAA,EAAD,CAAMG,MAAI,EAAV,SACE,cAACG,EAAA,EAAD,CACAC,KAAK,SACLF,QAAQ,YACRd,MAAM,UACNiB,KAAK,QACLT,UAAWH,EAAQX,WACnBsE,kBAAgB,EANhB,gCC1DDsC,EAHM,CACnBC,MAPS,uCAAG,WAAM3B,GAAN,eAAAC,EAAA,sEACWC,IAAMC,KAHf,SAG6BH,GAD/B,cACNI,EADM,yBAGLA,EAASC,MAHJ,2CAAH,uDCoDIuB,EA9CD,WAAO,IAAD,EACclF,mBAAS,IADvB,mBACT6D,EADS,KACAC,EADA,OAEwB9D,mBAAS,IAFjC,mBAETW,EAFS,KAEKC,EAFL,KAIV5B,EAAUC,cACVF,EAAUgF,IAoBhB,OACI,eAAC5E,EAAA,EAAD,CAAMC,WAAS,EAACF,UAAWH,EAAQ5B,KAAnC,UACI,cAAC6G,EAAA,EAAD,IACA,cAAC7E,EAAA,EAAD,CAAMG,MAAI,EAACwC,IAAI,EAAOmC,GAAI,EAAGC,GAAI,EAAGhF,UAAWH,EAAQjB,QACvD,eAACqB,EAAA,EAAD,CAAMG,MAAI,EAACwC,GAAI,GAAImC,GAAI,EAAGC,GAAI,EAA9B,UACML,GACE,cAACX,EAAA,EAAD,CAAOC,SAAS,UAAhB,SACKU,IAGPlD,GACE,cAACuC,EAAA,EAAD,CAAOC,SAAS,QAAhB,SACKxC,IAGT,cAAC,EAAD,CAAWmE,UAjCL,SAACX,GACfa,EAAaC,MAAMd,GACNC,MAAK,SAAAC,GACFP,EAAW,iDAEXQ,OAAOC,aAAaC,QAChB,oBAAqBC,KAAKC,UAAUL,IAExCrF,EAAQa,KAAK,iBAEhB8E,OAAM,SAAApC,GACH3B,EAAgB,gCAChBuE,YAAW,WACPvE,EAAgB,QACf,kB,0BCAdwE,EA7BQlI,aAAW,SAACX,GAAD,MAAY,CAC5CY,KAAM,CACJC,OAAQ,QACRQ,MAAO,QACPJ,QAAS,OACTF,OAAQf,EAAMgB,QAAQ,EAAG,IAE3B8H,SAAU,CACR5H,cAAe,UAEjBJ,MAAO,CACLC,OAAQf,EAAMgB,QAAQ,GAAI,GAC1BC,QAAS,OACTC,cAAe,UAEjB6H,WAAY,CACVlI,OAAQ,QAEVmI,UAAU,CACR/H,QAAS,OACTC,cAAe,aACfC,WAAY,UAEdC,KAAM,CACJC,MAAO,OACPC,UAAWtB,EAAMgB,QAAQ,QCgBdiI,EAtCC,SAAC,GAA4C,IAA3CC,EAA0C,EAA1CA,SAAUC,EAAgC,EAAhCA,KAAMC,EAA0B,EAA1BA,QAASC,EAAiB,EAAjBA,YACnC7G,EAAUgF,IAOhB,OACE,gCACE,qBAAK7E,UAAWH,EAAQuG,WAAxB,SACGG,EAASI,KAAI,SAAChC,EAASiC,GAAV,OAAgB,gCAAa,8BAAIjC,EAAQkC,OAAZ,OAAb,IAAuClC,EAAQ6B,OAArCI,QAE1C,8BACE,uBAAME,aAAa,MAAM9G,UAAWH,EAAQwG,UAAWpE,SAAUyE,EAAjE,UACI,cAAC7D,EAAA,EAAD,CACEC,MAAO0D,EACPvD,WAAS,EACTC,WAAS,EACTC,SAhBO,SAACvB,GAClBA,EAAMM,iBACNuE,EAAQ7E,EAAMwB,OAAON,QAeXiE,WAAY,SAAAnF,GAAK,MAAkB,UAAdA,EAAMoF,IAAkBN,EAAY9E,GAAS,QACpE,cAACrB,EAAA,EAAD,CACA0G,SAA0B,KAAhBT,EAAKU,OACf1G,KAAK,SACLE,QAASgG,EACTpG,QAAQ,YACRd,MAAM,UACNiB,KAAK,QACL+C,kBAAgB,EAPhB,2BCAG2D,EArBM,SAAC,GAAe,IAAdC,EAAa,EAAbA,QACftH,EAAUC,cAQhB,OACE,cAACQ,EAAA,EAAD,CACAC,KAAK,SACLF,QAAQ,YACRd,MAAM,UACNkB,QAXmB,SAACkB,GACpBwD,OAAOC,aAAagC,WAAW,qBAC/BvH,EAAQa,KAAK,aACbyG,EAAQ,OAIR,qB,kBCEWE,EAXF,SAAC,GAAgB,IAAfvG,EAAc,EAAdA,SAEb,OACE,cAACwG,EAAA,EAAD,UACE,cAACC,EAAA,EAAD,UACE,cAACnH,EAAA,EAAD,UAAaU,SCgBN0G,EArBE,SAAC,GAA4C,IAA3CC,EAA0C,EAA1CA,MAAOC,EAAmC,EAAnCA,WAAYC,EAAuB,EAAvBA,kBAC9B/H,EAAUgI,IAahB,OACG,cAAC5H,EAAA,EAAD,CAAMC,WAAS,EAAC4H,UAAU,SAAS9H,UAAWH,EAAQsG,SAAtD,SACGuB,EAAQA,EAAMK,QAbA,SAACC,EAAKC,GACxB,OAAIA,EAAIlH,SAASmH,SAASP,GAClB,GAAN,mBAAWK,GAAX,CACE,cAAC/H,EAAA,EAAD,CAAMG,MAAI,EAAcM,QAAS,kBAAMkH,EAAkBK,IAAzD,SACC,cAAC,EAAD,CAAMlH,SAAUkH,EAAIlH,YADLkH,EAAIE,MAKjBH,IAK+B,IAAM,QCTjCI,EATA,SAAC,GAAqB,IAApBzF,EAAmB,EAAnBA,KAAM0F,EAAa,EAAbA,QACnB,OACI,gCACE,cAAChI,EAAA,EAAD,CAAYC,QAAQ,KAApB,mBACA,cAACuC,EAAA,EAAD,CAAWE,MAAM,SAASzC,QAAQ,SAASwC,MAAOH,EAAMQ,SAAUkF,QCW7DC,EAfG,SAAC,GAAgC,IAA/BZ,EAA8B,EAA9BA,MAAOE,EAAuB,EAAvBA,kBAAuB,EACd9G,mBAAS,IADK,mBACzCyH,EADyC,KAC3BC,EAD2B,KAOhD,OACE,gCACE,cAACC,EAAD,CAAa9F,KAAM4F,EAAcF,QANhB,SAACzG,GACpB4G,EAAU5G,EAAMwB,OAAON,UAMrB,cAAC,EAAD,CAAU4E,MAAOA,EAAOC,WAAYY,EAAcX,kBAAmBA,QCD5Dc,EAHM,CACnBC,SAPY,uCAAG,WAAM5H,GAAN,eAAAsD,EAAA,sEACQC,IAAMC,KAHf,SAG6BxD,GAD5B,cACTyD,EADS,yBAGRA,EAASC,MAHD,2CAAH,uDCgBCmE,EAJU,CACvBC,mBAXsB,uCAAG,WAAMC,GAAN,eAAAzE,EAAA,sEACFC,IAAMC,KALf,YAK6BuE,GADlB,cACnBtE,EADmB,yBAGlBA,EAASC,MAHS,2CAAH,sDAYtBsE,SANe,SAAAC,GACV,iBAAaA,KpBsFLC,EApFG,WAChB,IAAMnJ,EAAUC,cACVF,EAAUgF,IAFM,EAI6B/D,mBAAS,IAJtC,mBAIfoI,EAJe,KAIQC,EAJR,OAKkBrI,oBAAS,GAL3B,mBAKfsI,EALe,KAKDC,EALC,OAOgBvI,mBAAS,MAPzB,mBAOfwI,EAPe,KAOFC,EAPE,OAQIzI,mBAAS,IARb,mBAQf4G,EARe,KAQR8B,EARQ,OASE1I,mBAAS,IATX,mBASf0F,EATe,KASTC,EATS,OAUU3F,mBAAS,IAVnB,mBAUfyF,EAVe,KAULkD,EAVK,KActBC,qBAAU,WACRtM,EAASuM,MACT,IAAMC,EAAiBxE,OAAOC,aAAawE,QAAQ,qBACnD,GAAID,EAAgB,CAElB,IAAME,EAAevE,KAAKwE,MAAMH,GAChCL,EAAeO,GAGjBpB,EAAaC,SAAS,CAAC5H,SAAU+I,EAAa/I,WACjCmE,MAAM,SAAAiB,GAAQ,OAAIqD,EAASrD,WAEtC6D,MAAM,yBACNlK,EAAQa,KAAK,YAEd,CAACb,IAGJ,IAAM8H,EAAiB,uCAAG,WAAOxE,GAAP,mBAAAiB,EAAA,6DACxBoF,EAAY,IACNQ,EAAe,CAAEnB,UAAW,CAACQ,EAAYvI,SAAUqC,EAAOrC,WAFxC,SAIG6H,EAAiBC,mBAAmBoB,GAJvC,OAIlBC,EAJkB,OAKxBb,GAAgB,GAChBF,EAAkBe,EAAa/B,IAG3B+B,EAAa3D,UACfkD,EAAYS,EAAa3D,UAErB4D,EAAmB,CAACC,KAAMd,EAAYvI,SAAUqC,OAAQA,EAAOrC,SAAUoH,GAAI+B,EAAa/B,IAChG/K,EAAOiN,KAAK,OAAQF,GAbI,4CAAH,sDAiBvBT,qBAAU,WACRtM,EAAOkN,GAAG,WAAW,SAAA3F,GACnB8E,GAAY,SAAAlD,GAAQ,4BAAQA,GAAR,CAAkB5B,YAEvC,IAcH,OACE,eAAC1E,EAAA,EAAD,CAAMC,WAAS,EAAC4H,UAAU,MAAMzJ,QAAS,EAAG2B,UAAWH,EAAQ5B,KAA/D,UACE,cAAC6G,EAAA,EAAD,IACA,cAAC7E,EAAA,EAAD,CAAMG,MAAI,EAACmK,GAAI,EAAf,SACA,cAAC,EAAD,CAAW7C,MAAOA,EAAO4B,YAAaA,EAAa1B,kBAAmBA,MAEtE,cAAC3H,EAAA,EAAD,CAAMG,MAAI,EAACwC,GAAI,EAAf,SACGwG,EAAe,cAAC,EAAD,CAAS7C,SAAUA,EAAUC,KAAMA,EAAMC,QAASA,EAASC,YAlB7D,SAAC9E,GACnBA,EAAMM,iBACN,IAAMsI,EAAchE,EAAKU,OACnBuD,EAAM,CAAE5D,OAAQyC,EAAYvI,SAAUyF,KAAMgE,GAE/CC,GACDrN,EAAOiN,KAAK,cAAgB,CAACnB,wBAAuBuB,QAAO,kBAAMhE,EAAQ,OAE3EA,EAAQ,OAWY,OAElB,cAACxG,EAAA,EAAD,CAAMG,MAAI,EAACwC,GAAI,EAAf,SACE,cAAC,EAAD,CAAcwE,QAASmC,UqBnDhBmB,G,OA9BH,WAAO,IAAD,EACQ5J,mBAAS,MADjB,mBACTsJ,EADS,KACHhD,EADG,KAYhB,OATAsC,qBAAU,WACR,IAAME,EAAiBxE,OAAOC,aAAawE,QAAQ,qBACnD,GAAID,EAAgB,CAClB,IAAME,EAAevE,KAAKwE,MAAMH,GAChCxC,EAAQ0C,GACRlB,EAAiBG,SAASe,EAAaa,UAExC,IAGD,cAAC,IAAD,CAAkBtN,MAAOA,EAAzB,SACE,cAAC,IAAD,UACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOuN,KAAK,YAAY5I,UAAW0C,IACnC,cAAC,IAAD,CAAOkG,KAAK,SAAS5I,UAAWgE,IAChC,cAAC,IAAD,CAAO4E,KAAK,aAAZ,SACE,cAAC,EAAD,MAEF,cAAC,IAAD,CAAOA,KAAK,IAAZ,SACGR,EAAO,cAAC,IAAD,CAAUS,GAAG,eAAiB,cAAC,EAAD,eC7BlDC,IAASC,OAAO,cAAC,EAAD,IAASC,SAASC,eAAe,W","file":"static/js/main.1b9d3764.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport io from \"socket.io-client\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport useStyle from \"../themes/messengerStyle\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\n\r\nimport ChatBox from \"../components/ChatBox\";\r\nimport LogoutButton from \"../components/LogoutButton\";\r\nimport UserPanel from \"../components/UserPanel/UserPanel\";\r\nimport usersService from \"../services/users\";\r\nimport messengerService from \"../services/messenger\";\r\n\r\nlet socket;\r\n\r\nconst Messenger = () => {\r\n  const history = useHistory();\r\n  const classes = useStyle();\r\n\r\n  const [currentConversationID, setConversationID] = useState(\"\");\r\n  const [existingChat, setExistingChat] = useState(false);\r\n\r\n  const [currentUser, setCurrentUser] = useState(null);\r\n  const [users, setUsers] = useState([]);\r\n  const [text, setText] = useState(\"\");\r\n  const [messages, setMessages] = useState([]);\r\n\r\n\r\n  //Initialize SocketIO and users\r\n  useEffect(()=> {\r\n    socket = io();\r\n    const loggedUserJSON = window.localStorage.getItem(\"userAuthenticated\");\r\n    if (loggedUserJSON) {\r\n    // Set Current User \r\n      const userLoggedIn = JSON.parse(loggedUserJSON);\r\n      setCurrentUser(userLoggedIn);\r\n\r\n    //Set all current Users\r\n    usersService.getUsers({username: userLoggedIn.username})\r\n                .then( userList => setUsers(userList));\r\n    } else {\r\n      alert(\"You must be logged in\");\r\n      history.push(\"/login\");\r\n    }\r\n  }, [history]);\r\n\r\n  //Function for Starting Chat\r\n  const startConversation = async (target) => {\r\n    setMessages([]);\r\n    const participants = { usernames: [currentUser.username, target.username]};\r\n\r\n    const conversation = await messengerService.createConversation(participants)\r\n    setExistingChat(true);\r\n    setConversationID(conversation.id);\r\n\r\n    //Show old messages if available\r\n    if (conversation.messages){\r\n      setMessages(conversation.messages);\r\n    }\r\n    const conversationInfo = {user: currentUser.username, target: target.username, id: conversation.id};\r\n    socket.emit(\"join\", conversationInfo);\r\n  }\r\n\r\n  //Get real-time message\r\n  useEffect(()=> {\r\n    socket.on(\"message\", message => {\r\n      setMessages(messages => [...messages, message]);\r\n    });\r\n  }, []);\r\n\r\n  //Send user message to Server\r\n  const sendMessage = (event) => {\r\n    event.preventDefault();\r\n    const trimmedText = text.trim();\r\n    const msg = { sender: currentUser.username, text: trimmedText };\r\n\r\n    if(msg){\r\n      socket.emit(\"sendMessage\", ({currentConversationID, msg}), () => setText(\"\"));\r\n    }\r\n    setText(\"\");\r\n  }\r\n\r\n  return (\r\n    <Grid container direction=\"row\" spacing={2} className={classes.root}>\r\n      <CssBaseline />\r\n      <Grid item xd={3}>\r\n      <UserPanel users={users} currentUser={currentUser} startConversation={startConversation} />\r\n      </Grid>\r\n      <Grid item xs={6}>\r\n        {existingChat ? <ChatBox messages={messages} text={text} setText={setText} sendMessage={sendMessage} />\r\n                      : null}\r\n      </Grid>\r\n      <Grid item xs={1}>\r\n        <LogoutButton setUser={setCurrentUser}/>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nexport default Messenger;","import { createMuiTheme } from \"@material-ui/core\";\r\n\r\nexport const theme = createMuiTheme({\r\n  typography: {\r\n    fontFamily: '\"Roboto\"',\r\n    fontSize: 12\r\n  },\r\n  palette: {\r\n    primary: { main: \"#1976d2\" },\r\n    secondary: { main: \"#fff\", contrastText: \"#1976d2\"},\r\n  }\r\n});","export default __webpack_public_path__ + \"static/media/bg-img.0c5628a9.png\";","import { makeStyles } from \"@material-ui/core/styles\";\r\nimport bgImage from \"../assets/bg-img.png\";\r\n\r\n//Styling for Login and Registration Page\r\nconst loginRegisterStyles = makeStyles((theme) => ({\r\n    root: {\r\n      height: \"100vh\",\r\n    },\r\n    paper: {\r\n      margin: theme.spacing(10, 8),\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      alignItems: \"center\",\r\n    },\r\n    form: {\r\n      width: \"100%\",\r\n      marginTop: theme.spacing(3),\r\n    },\r\n    image: {\r\n      backgroundImage: `url(${bgImage})`,\r\n      backgroundRepeat: \"no-repeat\",\r\n      backgroundSize: \"cover\",\r\n      backgroundPosition: \"center\",\r\n    },\r\n    mainButton: {\r\n      margin: theme.spacing(3, 0, 2),\r\n      padding: theme.spacing(1, 3),\r\n    },\r\n    secondaryButton: {\r\n      margin: theme.spacing(1, 0, 0),\r\n      padding: theme.spacing(1, 2),\r\n    },\r\n    loginRegisterRedirect: {\r\n        marginBottom: theme.spacing(5),\r\n        display: \"flex\",\r\n        flexDirection: \"horizontal\",\r\n        alignItems: \"end\",   \r\n        width: \"100%\"\r\n    },\r\n    loginRedirectText: {\r\n      marginTop: theme.spacing(2),\r\n      color: \"lightgrey\"\r\n    },\r\n    backgroundImageText: {\r\n      color: \"white\",\r\n      marginLeft: \"20%\",\r\n      marginRight: \"20%\",\r\n    }\r\n\r\n}));\r\n\r\nexport default loginRegisterStyles;","import React from \"react\";\r\nimport { useHistory } from \"react-router-dom\"\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport loginRegisterStyles from \"../../themes/loginAndRegister\";\r\n\r\nconst RedirectToLogin = () => {\r\n  const classes = loginRegisterStyles();\r\n  const history = useHistory();\r\n\r\n  const redirectButton = () => {\r\n    history.push(\"/login\");\r\n  }\r\n\r\n  return (\r\n    <div className={classes.loginRegisterRedirect}>\r\n      <Grid container justify=\"flex-end\" spacing={2}>\r\n        <Grid item>\r\n          <Typography className={classes.loginRedirectText} variant=\"subtitle1\">\r\n          Already have an account?\r\n          </Typography>\r\n        </Grid>\r\n        <Grid item>\r\n        <Button\r\n          type=\"button\"\r\n          variant=\"contained\"\r\n          color=\"secondary\"\r\n          size=\"large\"\r\n          className={classes.secondaryButton}\r\n          onClick={redirectButton}\r\n        >\r\n          Login\r\n        </Button>\r\n        </Grid>\r\n      </Grid>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default RedirectToLogin;","import React, { useState} from \"react\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { Alert } from \"@material-ui/lab\";\r\n\r\nimport loginRegisterStyles from \"../../themes/loginAndRegister\";\r\nimport LoginRedirect from \"./LoginRedirect\";\r\n\r\n//createUser props will be the axios post call that will take user object created here as parameter\r\nconst RegisterForm = ({ createUser }) => {\r\n\r\n  const [username, setUserName] = useState(\"\");\r\n  const [nickName, setNickName] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n\r\n  const [showSnackbar, setShowSnackBar] = useState(false);\r\n  const [errorMessage, setErrorMessage] = useState( { });\r\n  const classes = loginRegisterStyles();\r\n\r\n  const validate = () => {\r\n    let errors = {};\r\n    errors.username = username.length > 2 ? \"\" : \"Minimum of 3 characters\";\r\n    errors.password = password.length > 5 ? \"\" : \"Minimum of 6 characters\";\r\n    errors.email = (/^[a-zA-Z0-9_.-]+@[a-zA-Z0-9]+\\.[A-Za-z]+$/.test(email)) ? \"\" : \"Email Format is xyz@xxx.xxx\";\r\n    setErrorMessage({ ...errors });\r\n\r\n    return Object.values(errors).every(n => n === \"\");\r\n  }\r\n\r\n  const handleUsernameChange = (event) => {\r\n    setUserName(event.target.value);\r\n  }\r\n  const handleNickNameChange = (event) => {\r\n    setNickName(event.target.value);\r\n  }\r\n  const handlePasswordChange = (event) => {\r\n    setPassword(event.target.value);\r\n  }\r\n  const handleEmailChange = (event) => {\r\n    setEmail(event.target.value);\r\n  }\r\n  const handleCloseSnack = (event, reason) => {\r\n    if (reason === 'clickaway') {\r\n      return;\r\n    }\r\n    setShowSnackBar(false);\r\n  };\r\n\r\n  const registerUser = (event) => {\r\n    event.preventDefault();\r\n\r\n    //Only send request when all validations are passed\r\n    if (validate()) {\r\n      createUser({\r\n        username: username,\r\n        name: nickName,\r\n        email: email,\r\n        password: password\r\n      })\r\n      setShowSnackBar(false);\r\n      setUserName(\"\");\r\n      setNickName(\"\");\r\n      setEmail(\"\");\r\n      setPassword(\"\");\r\n    } else {\r\n      setShowSnackBar(true);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className={classes.paper}>\r\n      <LoginRedirect/>\r\n      <Grid container alignContent=\"flex-start\">\r\n          <Typography component=\"h1\" variant=\"h5\">\r\n              Create an account.\r\n          </Typography>\r\n      </Grid>\r\n      <div>\r\n      <form className={classes.form} onSubmit={registerUser}>\r\n        <Grid container spacing={2}>\r\n          <Grid item xs={12}>\r\n              <TextField\r\n              value={username}\r\n              label=\"Username\"\r\n              required\r\n              fullWidth\r\n              autoFocus\r\n              onChange={handleUsernameChange}\r\n              error={Boolean(errorMessage.username)}\r\n              helperText={errorMessage.username ? errorMessage.username : \"\"}\r\n              />\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n              <TextField\r\n              value={nickName}\r\n              label=\"Name\"\r\n              required\r\n              fullWidth\r\n              onChange={handleNickNameChange}\r\n              />\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n              <TextField\r\n              value={email}\r\n              label=\"E-mail Address\"\r\n              required\r\n              fullWidth\r\n              onChange={handleEmailChange}\r\n              error={Boolean(errorMessage.email)}\r\n              helperText={errorMessage.email ? errorMessage.email : \"\"}\r\n              />\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n              <TextField\r\n              value={password}\r\n              type=\"password\"\r\n              label=\"Password\"\r\n              required\r\n              fullWidth\r\n              onChange={handlePasswordChange}\r\n              error={Boolean(errorMessage.password)}\r\n              helperText={errorMessage.password? errorMessage.password : \"\"}\r\n              />\r\n          </Grid>\r\n          </Grid>\r\n          <Grid container justify=\"center\">\r\n              <Grid item>\r\n                <Button\r\n                type=\"submit\"\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                size=\"large\"\r\n                className={classes.mainButton}\r\n                disableElevation\r\n                >\r\n                Create\r\n                </Button>\r\n            </Grid>\r\n        </Grid>\r\n      </form>\r\n      </div>\r\n      <div>\r\n        <Snackbar anchorOrigin={{ vertical: \"top\", horizontal: \"right\"}} open = {showSnackbar} autoHideDuration={3000} onClose={handleCloseSnack}>\r\n          <Alert onClose={handleCloseSnack} severity=\"error\">\r\n            Please make sure all inputs are valid.\r\n          </Alert>\r\n        </Snackbar>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default RegisterForm;","import axios from \"axios\"; \r\n\r\nconst baseUrl = \"/register\";\r\n\r\nconst create = async credentials => {\r\n  const response = await axios.post(baseUrl, credentials);\r\n  \r\n  return response.data;\r\n}\r\n\r\nconst registerService = {\r\n  create\r\n};\r\nexport default registerService;","import React, {useState} from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport { Alert } from \"@material-ui/lab\";\r\nimport useStyle from \"../themes/loginAndRegister\";\r\n\r\nimport RegistrationForm from \"../components/RegisterForm/RegisterForm\";\r\nimport registerService from \"../services/register\";\r\nimport { Typography } from \"@material-ui/core\";\r\n\r\nconst Register = () => {\r\n    const [message, setMessage] = useState(\"\");\r\n    const [errorMessage, setErrorMessage] = useState(\"\");\r\n\r\n    const history = useHistory();\r\n    const classes = useStyle();\r\n\r\n    const createUser = (userObject) => {\r\n     registerService.create(userObject)\r\n                    .then(returnedUser => {\r\n                        setMessage(`Registration Successful! Welcome ${returnedUser.name}`);\r\n\r\n                        window.localStorage.setItem(\r\n                            \"userAuthenticated\", JSON.stringify(returnedUser)\r\n                        );\r\n\r\n                        history.push(\"/messenger\");\r\n                    })\r\n                    .catch(error => {\r\n                        setErrorMessage(\"Something went wrong on our side. Please try again later\");\r\n                    })\r\n    }\r\n\r\n    return (\r\n        <Grid container className={classes.root}>\r\n            <CssBaseline />\r\n            <Grid item xs={false} sm={4} md={7} className={classes.image}>\r\n            </Grid>\r\n            <Grid item xs={12} sm={8} md={5}>\r\n                {(message && \r\n                    <Alert severity=\"success\">\r\n                        {message}    \r\n                    </Alert>\r\n                )}\r\n                {(errorMessage && \r\n                    <Alert severity=\"error\">\r\n                        {errorMessage}\r\n                    </Alert>\r\n                )}\r\n                <RegistrationForm createUser={createUser} /> \r\n            </Grid>\r\n        </Grid>\r\n    );\r\n}\r\n\r\nexport default Register;","import React from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport loginRegisterStyles from \"../../themes/loginAndRegister\";\r\n\r\nconst RedirectToRegister = () => {\r\n  const classes = loginRegisterStyles();\r\n  const history = useHistory();\r\n\r\n  const redirectButton = () => {\r\n    history.push(\"/register\");\r\n  }\r\n\r\n  return (\r\n    <div className={classes.loginRegisterRedirect}>\r\n      <Grid container justify=\"flex-end\" spacing={2}>\r\n        <Grid item>\r\n          <Typography className={classes.loginRedirectText} variant=\"subtitle1\">\r\n          Don't have an account?\r\n          </Typography>\r\n        </Grid>\r\n        <Grid item>\r\n          <Button\r\n              type=\"button\"\r\n              variant=\"contained\"\r\n              color=\"secondary\"\r\n              size=\"large\"\r\n              className={classes.secondaryButton}\r\n              onClick={redirectButton}\r\n              >\r\n              Create\r\n          </Button>\r\n        </Grid>\r\n      </Grid>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default RedirectToRegister;","import React, { useState} from \"react\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\nimport loginRegisterStyles from \"../../themes/loginAndRegister\";\r\nimport RegisterRedirect from \"./RegisterRedirect\";\r\n\r\n//loginUser props will be the axios post call that will take user object created here as parameter\r\nconst LoginForm = ({ loginUser }) => {\r\n\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  const classes = loginRegisterStyles();\r\n\r\n  const handleEmailChange = (event) => {\r\n    setEmail(event.target.value);\r\n  }\r\n  const handlePasswordChange = (event) => {\r\n    setPassword(event.target.value);\r\n  }\r\n\r\n  const submitUser = (event) => {\r\n    event.preventDefault();\r\n\r\n      loginUser({\r\n        email: email,\r\n        password: password\r\n      })\r\n      setEmail(\"\");\r\n      setPassword(\"\");\r\n  }\r\n\r\n  return (\r\n    <div className={classes.paper}>\r\n      <RegisterRedirect />\r\n      <Grid container alignContent=\"flex-start\" >\r\n          <Typography component=\"h1\" variant=\"h5\">\r\n              Welcome Back!\r\n          </Typography>\r\n      </Grid>\r\n      <div>\r\n      <form className={classes.form} onSubmit={submitUser}>\r\n        <Grid container spacing={2}>\r\n          <Grid item xs={12}>\r\n              <TextField\r\n              value={email}\r\n              label=\"E-mail\"\r\n              required\r\n              fullWidth\r\n              autoFocus\r\n              onChange={handleEmailChange}\r\n              />\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n              <TextField\r\n              value={password}\r\n              type=\"password\"\r\n              label=\"Password\"\r\n              required\r\n              fullWidth\r\n              onChange={handlePasswordChange}\r\n              />\r\n          </Grid>\r\n          <Grid>\r\n          </Grid>\r\n          </Grid>\r\n          <Grid container justify=\"center\">\r\n              <Grid item>\r\n                <Button\r\n                type=\"submit\"\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                size=\"large\"\r\n                className={classes.mainButton}\r\n                disableElevation\r\n                >\r\n                Login\r\n                </Button>\r\n            </Grid>\r\n        </Grid>\r\n      </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LoginForm;","import axios from \"axios\"; \r\n\r\nconst baseUrl = \"/login\";\r\n\r\nconst login = async credentials => {\r\n  const response = await axios.post(baseUrl, credentials);\r\n  \r\n  return response.data;\r\n}\r\n\r\nconst loginService = {\r\n  login\r\n};\r\nexport default loginService;","import React, {useState} from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport { Alert } from \"@material-ui/lab\";\r\n\r\nimport LoginForm from \"../components/LoginForm/LoginForm\";\r\nimport loginService from \"../services/login\";\r\nimport useStyle from \"../themes/loginAndRegister\";\r\n\r\nconst Login = () => {\r\n    const [message, setMessage] = useState(\"\");\r\n    const [errorMessage, setErrorMessage] = useState(\"\");\r\n\r\n    const history = useHistory();\r\n    const classes = useStyle();\r\n\r\n    const loginUser = (userObject) => {\r\n        loginService.login(userObject)\r\n                    .then(returnedUser => {\r\n                        setMessage(`Login Successful! Redirecting to messager app`);\r\n\r\n                        window.localStorage.setItem(\r\n                            \"userAuthenticated\", JSON.stringify(returnedUser)\r\n                        );\r\n                        history.push(\"/messenger\");\r\n                    })\r\n                    .catch(error => {\r\n                        setErrorMessage(\"Invalid Username or Password\");\r\n                        setTimeout(() => {\r\n                            setErrorMessage(null);\r\n                          }, 5000)\r\n                    })\r\n    }\r\n\r\n    return (\r\n        <Grid container className={classes.root}>\r\n            <CssBaseline />\r\n            <Grid item xs={false} sm={4} md={7} className={classes.image} />\r\n            <Grid item xs={12} sm={8} md={5} >\r\n                {(message && \r\n                    <Alert severity=\"success\">\r\n                        {message}    \r\n                    </Alert>\r\n                )}\r\n                {(errorMessage && \r\n                    <Alert severity=\"error\">\r\n                        {errorMessage}\r\n                    </Alert>\r\n                )}\r\n                <LoginForm loginUser={loginUser} />    \r\n            </Grid>\r\n        </Grid>\r\n    );\r\n}\r\n\r\nexport default Login;","import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst messengerStyle = makeStyles((theme) => ({\r\n  root: {\r\n    height: \"100vh\",\r\n    width: \"100vh\",\r\n    display: \"flex\",\r\n    margin: theme.spacing(2, 2)\r\n  },\r\n  userList: {\r\n    flexDirection: \"column\"\r\n  },\r\n  paper: {\r\n    margin: theme.spacing(10, 8),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n  },\r\n  messageBox: {\r\n    height: \"90vh\"\r\n  },\r\n  chatInput:{\r\n    display: \"flex\",\r\n    flexDirection: \"horizontal\",\r\n    alignItems: \"center\",\r\n  },\r\n  form: {\r\n    width: \"100%\",\r\n    marginTop: theme.spacing(3),\r\n  }\r\n}));\r\n\r\nexport default messengerStyle;","import React from \"react\";\r\nimport useStyle from \"../themes/messengerStyle\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\nconst ChatBox = ({messages, text, setText, sendMessage}) => {\r\n  const classes = useStyle();\r\n  \r\n  const handleText = (event) => {\r\n    event.preventDefault(); \r\n    setText(event.target.value);\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div className={classes.messageBox}> \r\n        {messages.map((message, i) => <div key={i}><b>{message.sender}:</b> {message.text}</div>)}\r\n      </div>\r\n      <div>\r\n        <form autoComplete=\"off\" className={classes.chatInput} onSubmit={sendMessage}>\r\n            <TextField\r\n              value={text}\r\n              fullWidth\r\n              autoFocus\r\n              onChange={handleText}\r\n              onKeyPress={event => event.key === \"Enter\" ? sendMessage(event) : null}/>\r\n            <Button\r\n            disabled={text.trim() === \"\"}\r\n            type=\"button\"\r\n            onClick={sendMessage}\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            size=\"large\"\r\n            disableElevation\r\n            >\r\n            Send\r\n            </Button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ChatBox;","import React from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\n\r\nconst LogoutButton = ({setUser}) => {\r\n  const history = useHistory();\r\n\r\n  const handleLogOut = (event) => {\r\n    window.localStorage.removeItem(\"userAuthenticated\");\r\n    history.push(\"/register\");\r\n    setUser(null);\r\n  }\r\n  \r\n  return (\r\n    <Button\r\n    type=\"button\"\r\n    variant=\"contained\"\r\n    color=\"primary\"\r\n    onClick={handleLogOut}\r\n  >\r\n  LogOut\r\n  </Button>\r\n  );\r\n}\r\n\r\nexport default LogoutButton;","import React from \"react\";\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\n\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nconst User = ({username}) => {\r\n\r\n  return (\r\n    <Card>\r\n      <CardContent>\r\n        <Typography>{username}</Typography>\r\n      </CardContent>\r\n    </Card>\r\n  )\r\n}\r\n\r\nexport default User;","import React from \"react\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\n\r\nimport User from \"./User\";\r\nimport useStyles from \"../../themes/messengerStyle\";\r\n\r\nconst UserList = ({users, filterUser, startConversation}) => {\r\n  const classes = useStyles();\r\n\r\n  const reduceUsers = (acc, cur) => {\r\n    if (cur.username.includes(filterUser)){\r\n      return [...acc, \r\n        <Grid item key={cur.id} onClick={() => startConversation(cur)}>\r\n         <User username={cur.username}/>\r\n        </Grid>\r\n      ];\r\n    }\r\n    return acc;\r\n  }\r\n\r\n  return (\r\n     <Grid container direction=\"column\" className={classes.userList}>\r\n       {users ? users.reduce(reduceUsers, []) : null}\r\n     </Grid>\r\n  )\r\n}\r\n\r\nexport default UserList;","import React from \"react\"\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport { Typography } from \"@material-ui/core\";\r\n\r\nconst Filter = ({name, handler}) => {\r\n    return (\r\n        <div>\r\n          <Typography variant=\"h4\" >Chats</Typography>\r\n          <TextField label=\"Search\" variant=\"filled\" value={name} onChange={handler}/>\r\n        </div>\r\n    )\r\n  }\r\n\r\nexport default Filter;","import UserList from \"./UserList\";\r\nimport FilterInput from \"./FilterContacts/FilterInput\";\r\nimport React, { useState } from \"react\";\r\n\r\nconst UserPanel = ({users, startConversation}) => {\r\n  const [filteredName, setFilter] = useState(\"\");\r\n\r\n  const handleFilter = (event) => {\r\n    setFilter(event.target.value);\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <FilterInput name={filteredName} handler={handleFilter} />\r\n      <UserList users={users} filterUser={filteredName} startConversation={startConversation} />\r\n    </div>\r\n  );\r\n} \r\n\r\nexport default UserPanel;","import axios from \"axios\"; \r\n\r\nconst baseUrl = \"/users\";\r\n\r\nconst getUsers = async username => {\r\n  const response = await axios.post(baseUrl, username);\r\n  \r\n  return response.data;\r\n}\r\n\r\nconst usersService = {\r\n  getUsers\r\n};\r\nexport default usersService;","import axios from \"axios\"; \r\n\r\nconst baseUrl = \"/messages\";\r\n\r\nlet token = null\r\n\r\nconst createConversation = async usernames => {\r\n  const response = await axios.post(baseUrl, usernames);\r\n  \r\n  return response.data;\r\n}\r\n\r\nconst setToken = newToken => {\r\n  token = `bearer ${newToken}`;\r\n}\r\n\r\nconst messengerService = {\r\n  createConversation,\r\n  setToken\r\n};\r\nexport default messengerService;\r\n","import React, {useState, useEffect } from \"react\";\r\nimport { MuiThemeProvider } from \"@material-ui/core\";\r\nimport { BrowserRouter, Route, Switch, Redirect } from \"react-router-dom\";\r\n\r\nimport { theme } from \"./themes/theme\";\r\nimport Register from \"./pages/Register\";\r\nimport Login from \"./pages/Login\";\r\nimport Messenger from \"./pages/Messenger\";\r\nimport messengerService from \"./services/messenger\";\r\n\r\nimport \"./App.css\";\r\n\r\nconst App = () => {\r\n  const [user, setUser] = useState(null);\r\n\r\n  useEffect(()=> {\r\n    const loggedUserJSON = window.localStorage.getItem(\"userAuthenticated\");\r\n    if (loggedUserJSON) {\r\n      const userLoggedIn = JSON.parse(loggedUserJSON);\r\n      setUser(userLoggedIn);\r\n      messengerService.setToken(userLoggedIn.token)\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <MuiThemeProvider theme={theme}>\r\n      <BrowserRouter>\r\n        <Switch>\r\n          <Route path=\"/register\" component={Register} />\r\n          <Route path=\"/login\" component={Login} />\r\n          <Route path=\"/messenger\">\r\n            <Messenger/>\r\n          </Route>\r\n          <Route path=\"/\">\r\n            {user ? <Redirect to=\"/messenger\"/> : <Register />}\r\n          </Route>\r\n        </Switch>\r\n      </BrowserRouter>\r\n    </MuiThemeProvider>\r\n  );\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}